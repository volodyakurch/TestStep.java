{"ast":null,"code":"import React,{useState}from'react';import{AppBar,Box,CssBaseline,Drawer,IconButton,List,ListItem,ListItemButton,ListItemIcon,ListItemText,Toolbar,Typography,useTheme,useMediaQuery}from'@mui/material';import{Menu as MenuIcon,Dashboard as DashboardIcon,Assignment as ProjectIcon,PlaylistAddCheck as TestCaseIcon,PlaylistPlay as TestRunIcon,Logout as LogoutIcon}from'@mui/icons-material';import{useAuth}from'../../contexts/AuthContext';import{useNavigate,useLocation}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const drawerWidth=240;const Layout=_ref=>{let{children}=_ref;const[mobileOpen,setMobileOpen]=useState(false);const{user,logout}=useAuth();const navigate=useNavigate();const location=useLocation();const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('md'));const handleDrawerToggle=()=>{setMobileOpen(!mobileOpen);};const handleLogout=()=>{logout();navigate('/login');};const menuItems=[{text:'Dashboard',icon:/*#__PURE__*/_jsx(DashboardIcon,{}),path:'/'},{text:'Projects',icon:/*#__PURE__*/_jsx(ProjectIcon,{}),path:'/projects'},{text:'Test Cases',icon:/*#__PURE__*/_jsx(TestCaseIcon,{}),path:'/projects/1/test-cases'},{text:'Test Runs',icon:/*#__PURE__*/_jsx(TestRunIcon,{}),path:'/projects/1/test-runs'}];const drawer=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Toolbar,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",noWrap:true,component:\"div\",children:\"TMS\"})}),/*#__PURE__*/_jsxs(List,{children:[menuItems.map(item=>/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{selected:location.pathname===item.path,onClick:()=>navigate(item.path),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:item.icon}),/*#__PURE__*/_jsx(ListItemText,{primary:item.text})]})},item.text)),/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:handleLogout,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(LogoutIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Logout\"})]})})]})]});return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",sx:{width:{md:\"calc(100% - \".concat(drawerWidth,\"px)\")},ml:{md:\"\".concat(drawerWidth,\"px\")}},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",\"aria-label\":\"open drawer\",edge:\"start\",onClick:handleDrawerToggle,sx:{mr:2,display:{md:'none'}},children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",noWrap:true,component:\"div\",sx:{flexGrow:1},children:\"Test Management System\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[\"Welcome, \",user===null||user===void 0?void 0:user.firstName,\" \",user===null||user===void 0?void 0:user.lastName]})]})}),/*#__PURE__*/_jsxs(Box,{component:\"nav\",sx:{width:{md:drawerWidth},flexShrink:{md:0}},children:[/*#__PURE__*/_jsx(Drawer,{variant:\"temporary\",open:mobileOpen,onClose:handleDrawerToggle,ModalProps:{keepMounted:true},sx:{display:{xs:'block',md:'none'},'& .MuiDrawer-paper':{boxSizing:'border-box',width:drawerWidth}},children:drawer}),/*#__PURE__*/_jsx(Drawer,{variant:\"permanent\",sx:{display:{xs:'none',md:'block'},'& .MuiDrawer-paper':{boxSizing:'border-box',width:drawerWidth}},open:true,children:drawer})]}),/*#__PURE__*/_jsxs(Box,{component:\"main\",sx:{flexGrow:1,p:3,width:{md:\"calc(100% - \".concat(drawerWidth,\"px)\")}},children:[/*#__PURE__*/_jsx(Toolbar,{}),children]})]});};export default Layout;","map":{"version":3,"names":["React","useState","AppBar","Box","CssBaseline","Drawer","IconButton","List","ListItem","ListItemButton","ListItemIcon","ListItemText","Toolbar","Typography","useTheme","useMediaQuery","Menu","MenuIcon","Dashboard","DashboardIcon","Assignment","ProjectIcon","PlaylistAddCheck","TestCaseIcon","PlaylistPlay","TestRunIcon","Logout","LogoutIcon","useAuth","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","drawerWidth","Layout","_ref","children","mobileOpen","setMobileOpen","user","logout","navigate","location","theme","isMobile","breakpoints","down","handleDrawerToggle","handleLogout","menuItems","text","icon","path","drawer","variant","noWrap","component","map","item","disablePadding","selected","pathname","onClick","primary","sx","display","position","width","md","concat","ml","color","edge","mr","flexGrow","firstName","lastName","flexShrink","open","onClose","ModalProps","keepMounted","xs","boxSizing","p"],"sources":["/Users/vladimirsmirnov/projects/tms-system/frontend/src/components/layout/Layout.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  AppBar,\n  Box,\n  CssBaseline,\n  Drawer,\n  IconButton,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  Toolbar,\n  Typography,\n  useTheme,\n  useMediaQuery,\n} from '@mui/material';\nimport {\n  Menu as MenuIcon,\n  Dashboard as DashboardIcon,\n  Assignment as ProjectIcon,\n  PlaylistAddCheck as TestCaseIcon,\n  PlaylistPlay as TestRunIcon,\n  Logout as LogoutIcon,\n} from '@mui/icons-material';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useNavigate, useLocation } from 'react-router-dom';\n\nconst drawerWidth = 240;\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\nconst Layout: React.FC<LayoutProps> = ({ children }) => {\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n\n  const menuItems = [\n    { text: 'Dashboard', icon: <DashboardIcon />, path: '/' },\n    { text: 'Projects', icon: <ProjectIcon />, path: '/projects' },\n    { text: 'Test Cases', icon: <TestCaseIcon />, path: '/projects/1/test-cases' },\n    { text: 'Test Runs', icon: <TestRunIcon />, path: '/projects/1/test-runs' },\n  ];\n\n  const drawer = (\n    <div>\n      <Toolbar>\n        <Typography variant=\"h6\" noWrap component=\"div\">\n          TMS\n        </Typography>\n      </Toolbar>\n      <List>\n        {menuItems.map((item) => (\n          <ListItem key={item.text} disablePadding>\n            <ListItemButton\n              selected={location.pathname === item.path}\n              onClick={() => navigate(item.path)}\n            >\n              <ListItemIcon>{item.icon}</ListItemIcon>\n              <ListItemText primary={item.text} />\n            </ListItemButton>\n          </ListItem>\n        ))}\n        <ListItem disablePadding>\n          <ListItemButton onClick={handleLogout}>\n            <ListItemIcon>\n              <LogoutIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Logout\" />\n          </ListItemButton>\n        </ListItem>\n      </List>\n    </div>\n  );\n\n  return (\n    <Box sx={{ display: 'flex' }}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        sx={{\n          width: { md: `calc(100% - ${drawerWidth}px)` },\n          ml: { md: `${drawerWidth}px` },\n        }}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            sx={{ mr: 2, display: { md: 'none' } }}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap component=\"div\" sx={{ flexGrow: 1 }}>\n            Test Management System\n          </Typography>\n          <Typography variant=\"body2\">\n            Welcome, {user?.firstName} {user?.lastName}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Box\n        component=\"nav\"\n        sx={{ width: { md: drawerWidth }, flexShrink: { md: 0 } }}\n      >\n        <Drawer\n          variant=\"temporary\"\n          open={mobileOpen}\n          onClose={handleDrawerToggle}\n          ModalProps={{\n            keepMounted: true,\n          }}\n          sx={{\n            display: { xs: 'block', md: 'none' },\n            '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth },\n          }}\n        >\n          {drawer}\n        </Drawer>\n        <Drawer\n          variant=\"permanent\"\n          sx={{\n            display: { xs: 'none', md: 'block' },\n            '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth },\n          }}\n          open\n        >\n          {drawer}\n        </Drawer>\n      </Box>\n      <Box\n        component=\"main\"\n        sx={{ flexGrow: 1, p: 3, width: { md: `calc(100% - ${drawerWidth}px)` } }}\n      >\n        <Toolbar />\n        {children}\n      </Box>\n    </Box>\n  );\n};\n\nexport default Layout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}